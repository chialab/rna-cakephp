# RNA plugin for CakePHP

A [CakePHP](https://cakephp.org/) plugin to seamlessly integrate with
[@chialab/rna](https://github.com/chialab/rna) build artifacts.

## Installation

You can install this plugin into your CakePHP application using [composer](https://getcomposer.org).

The recommended way to install composer packages is:

```
composer require chialab/rna-cakephp
```

You must load the plugin into your CakePHP application by loading it in your application class `bootstrap` method:

```php
class Application extends \Cake\Http\BaseApplication
{
    public function bootstrap(): void
    {
        parent::bootstrap();

        // ...
        $this->addPlugin('Chialab/Rna');
    }
}
```

## Usage

### RNA Helper

Load the helper in your view class:

```php
class View extends \Cake\View\View
{
    public function initialize(): void
    {
        parent::initialize();
        
        // ...
        $this->loadHelper('Chialab/Rna.Rna');
    }
}
```

Then use it in your templates:

* To inject the code generated by the dev server (only when `debug` is on):

    ```twig
    {{ Rna.devServer()|raw }}
    {{ Rna.devServer('YourPlugin')|raw }}
    ```

* To load resources:

    ```twig
    {{ Rna.script('index')|raw }}
    {{ Rna.css('YourPlugin.main')|raw }}
    {{ Rna.script('YourPlugin.main', { type: 'module' })|raw }}
    ```
